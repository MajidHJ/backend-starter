## Day 40 Report

### Goals

* Implement **GET /v1/users** (list users)
* Implement **GET /v1/users/{user_id}** (retrieve single user)
* Enforce correct **HTTP semantics** for read operations
* Handle **404 Not Found** properly as part of API contract
* Keep in-memory storage as an educational step before DB integration

---

### What I Learned

* **GET must be side-effect free**
  A read endpoint should not modify application state. Repeated calls must not change stored data.

* **API Contract matters more than implementation**
  `response_model` defines a strict output schema and prevents accidental contract drift.

* **Difference between collection and resource endpoints**

  * `/users` → returns `List[UserResponse]`
  * `/users/{id}` → returns a single `UserResponse`

* **404 is not an exception; it is part of normal API behavior**
  Returning `None` or `{}` is incorrect. Proper HTTP semantics require raising `HTTPException(404)`.

* **Swagger/OpenAPI must reflect real behavior**
  Declaring custom error models without centralized exception handling creates contract mismatch.

* **Educational trade-off awareness**

  * Using in-memory list and linear search
  * Production version would use repository + database + indexed lookup
  * Current focus is HTTP discipline, not persistence complexity

* **Query validation discipline**

  * Correct usage of `Query(..., ge=..., le=...)`
  * Avoid misuse like `max_length` on integers

---

### Project Structure (Current State)

```
app/
├── main.py
├── api/
│   ├── router.py
│   └── v1/
│       ├── router.py
│       └── users.py
├── schemas/
│   ├── user.py
│   └── common.py
```

**Architecture characteristics so far:**

* Versioned API routing (`/v1`)
* Clear separation between:

  * API layer (routes)
  * Schemas (request/response models)
* In-memory storage for CRUD simulation
* Proper status codes and response models enforced

---

Today solidified the foundation of **read semantics + HTTP correctness**, which is required before moving to Update/Delete in the next step.
